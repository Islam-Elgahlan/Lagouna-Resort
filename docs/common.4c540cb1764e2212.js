"use strict";(self.webpackChunkLagouna_Resort=self.webpackChunkLagouna_Resort||[]).push([[592],{9788:(p,c,n)=>{n.d(c,{L:()=>u});var o=n(5879),t=n(9862);let u=(()=>{class s{constructor(r){this._HttpClient=r}addRoom(r){return this._HttpClient.post("admin/rooms",r)}getFacilities(){return this._HttpClient.get("admin/room-facilities")}onGetRooms(r){return this._HttpClient.get("admin/rooms",{params:r})}getRoombyId(r){return this._HttpClient.get(`admin/rooms/${r}`)}updateRoom(r,a){return this._HttpClient.put(`admin/rooms/${r}`,a)}deleteRoom(r){return this._HttpClient.delete(`admin/rooms/${r}`)}static#t=this.\u0275fac=function(a){return new(a||s)(o.LFG(t.eN))};static#e=this.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},5066:(p,c,n)=>{n.d(c,{p:()=>r});var o=n(6223),t=n(5879),u=n(131),s=n(2425),m=n(2787);let r=(()=>{class a{constructor(d,e,i){this._AuthService=d,this._ToastrService=e,this._Router=i,this.changePassForm=new o.cw({oldPassword:new o.NI(null,[o.kI.required,o.kI.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*d)(?=.*[@$!%*?&])[A-Za-zd@$!%*?&]{8,16}$")]),newPassword:new o.NI(null,[o.kI.required,o.kI.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*d)(?=.*[@$!%*?&])[A-Za-zd@$!%*?&]{8,16}$")]),confirmPassword:new o.NI(null,[o.kI.required,o.kI.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*d)(?=.*[@$!%*?&])[A-Za-zd@$!%*?&]{8,16}$")])})}ngOnInit(){}onChangePassword(d){this._AuthService.onChangePassword(d.value).subscribe({next:e=>{console.log(e)},error:e=>{console.log(e),this._ToastrService.error("Failed","ERROR")},complete:()=>{this._ToastrService.success("Password changed successfully","SUCCESS"),this._Router.navigate(["/admin/"])}})}static#t=this.\u0275fac=function(e){return new(e||a)(t.Y36(u.e),t.Y36(s._W),t.Y36(m.F0))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-change-password"]],decls:27,vars:1,consts:[[1,"my-card"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"text-center","w-75"],["src","../../../../../assets/images/Staycation..svg","alt","",1,"w-25","mb-2","text-center"],[1,"mt-2"],[1,"blue"],[1,"py-3",3,"formGroup","ngSubmit"],[1,"input-group"],["id","basic-addon1",1,"input-group-text"],[1,"fa-solid","fa-lock-open"],["formControlName","oldPassword","type","password","placeholder","Old Password","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],[1,"input-group","my-3"],[1,"fa-solid","fa-lock"],["formControlName","newPassword","type","password","placeholder","New Password","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],["formControlName","confirmPassword","type","password","placeholder","Confirm new Password","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],[1,"w-100","my-3","main-btn"]],template:function(e,i){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._UZ(5,"img",5),t.qZA(),t.TgZ(6,"div")(7,"h2",6),t._uU(8,"Change Your Password"),t.qZA(),t.TgZ(9,"p",7),t._uU(10,"enter your details below!"),t.qZA(),t.TgZ(11,"form",8),t.NdJ("ngSubmit",function(){return i.onChangePassword(i.changePassForm)}),t.TgZ(12,"div",9)(13,"span",10),t._UZ(14,"i",11),t.qZA(),t._UZ(15,"input",12),t.qZA(),t.TgZ(16,"div",13)(17,"span",10),t._UZ(18,"i",14),t.qZA(),t._UZ(19,"input",15),t.qZA(),t.TgZ(20,"div",9)(21,"span",10),t._UZ(22,"i",14),t.qZA(),t._UZ(23,"input",16),t.qZA(),t.TgZ(24,"div",6)(25,"button",17),t._uU(26,"Change Password"),t.qZA()()()()()()()()),2&e&&(t.xp6(11),t.Q6J("formGroup",i.changePassForm))},dependencies:[o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u],styles:["form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:0}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:.5px rgb(209,204,204) solid}"]})}return a})()},131:(p,c,n)=>{n.d(c,{e:()=>a});class o extends Error{}o.prototype.name="InvalidTokenError";var m=n(5879),r=n(9862);let a=(()=>{class l{constructor(e){this._httpClient=e,this.role="",null!==localStorage.getItem("userToken")&&this.getProfile()}getProfile(){let i=function s(l,d){if("string"!=typeof l)throw new o("Invalid token specified: must be a string");d||(d={});const e=!0===d.header?0:1,i=l.split(".")[e];if("string"!=typeof i)throw new o(`Invalid token specified: missing part #${e+1}`);let _;try{_=function u(l){let d=l.replace(/-/g,"+").replace(/_/g,"/");switch(d.length%4){case 0:break;case 2:d+="==";break;case 3:d+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function t(l){return decodeURIComponent(atob(l).replace(/(.)/g,(d,e)=>{let i=e.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}(d)}catch{return atob(d)}}(i)}catch(g){throw new o(`Invalid token specified: invalid base64 for part #${e+1} (${g.message})`)}try{return JSON.parse(_)}catch(g){throw new o(`Invalid token specified: invalid json for part #${e+1} (${g.message})`)}}(localStorage.getItem("userToken"));localStorage.setItem("role",i.userGroup),localStorage.setItem("userName",i.userName),this.getRole()}getRole(){null!==localStorage.getItem("userToken")&&localStorage.getItem("role")&&(this.role=localStorage.getItem("role"))}getCurrentProfile(e){return this._httpClient.get(`admin/users/${e}`)}login(e){return this._httpClient.post("admin/users/login",e)}handleRegister(e){return this._httpClient.post("portal/users",e)}onResetPassword(e){return this._httpClient.post("portal/users/reset-password",e)}onChangePassword(e){return this._httpClient.post("portal/users/change-password",e)}handleForget(e){return this._httpClient.post("portal/users/forgot-password",e)}static#t=this.\u0275fac=function(i){return new(i||l)(m.LFG(r.eN))};static#e=this.\u0275prov=m.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()},5517:(p,c,n)=>{n.d(c,{G:()=>u});var o=n(5879),t=n(9862);let u=(()=>{class s{constructor(r){this._HttpClient=r}getMyFavorites(){return this._HttpClient.get("portal/favorite-rooms")}addFavorites(r){return this._HttpClient.post("portal/favorite-rooms",{roomId:r})}deleteFromFavorites(r){return this._HttpClient.delete(`portal/favorite-rooms/${r}`,{body:{roomId:r}})}static#t=this.\u0275fac=function(a){return new(a||s)(o.LFG(t.eN))};static#e=this.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},4116:(p,c,n)=>{n.d(c,{N:()=>u});var o=n(7700),t=n(5879);let u=(()=>{class s{constructor(r,a){this.dialogRef=r,this.data=a,console.log(a)}onClose(){this.dialogRef.close()}static#t=this.\u0275fac=function(a){return new(a||s)(t.Y36(o.so),t.Y36(o.WI))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-delete-item"]],decls:15,vars:2,consts:[[1,"my-card"],[1,"text-end"],[1,"text-danger","pointer",3,"click"],[1,"fa-solid","fa-xmark-circle","fa-2x"],[1,"text-center"],[1,"d-flex","justify-content-center"],["src","../../../assets/images/3d-illustration-website-ui-kit-trash-bin-png.png","alt","",1,"w-25"],[1,"text-success","text-capitalize","fw-bold"],[1,"btn","btn-outline-danger","py-1","px-3","my-2",3,"mat-dialog-close"]],template:function(a,l){1&a&&(t.TgZ(0,"section",0)(1,"div",1)(2,"span",2),t.NdJ("click",function(){return l.onClose()}),t._UZ(3,"i",3),t.qZA()(),t.TgZ(4,"div",4)(5,"div",5),t._UZ(6,"img",6),t.qZA(),t.TgZ(7,"h3"),t._uU(8,"Delete this item"),t.qZA(),t.TgZ(9,"p"),t._uU(10,"Are you sure you want to delete? "),t.TgZ(11,"span",7),t._uU(12),t.qZA()(),t.TgZ(13,"button",8),t._uU(14,"Delete"),t.qZA()()()),2&a&&(t.xp6(12),t.Oqu(l.data.roomNumber),t.xp6(1),t.Q6J("mat-dialog-close",l.data))},dependencies:[o.ZT]})}return s})()}}]);